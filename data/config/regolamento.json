{
  "version": 2,
  "competition": "FantaPortoscuso 2025/2026",
  "source": {
    "file": "regolamento.pdf",
    "last_import_date": "2026-02-09"
  },
  "roster_rules": {
    "budget": 250,
    "size": 23,
    "roles": {
      "P": 3,
      "D": 7,
      "C": 8,
      "A": 5
    },
    "team_cap_real_club": 3,
    "price_tiers_initial_only": {
      "enabled": true,
      "disabled_after_first_market_window": true,
      "constraints": {
        "D_min_price": 14,
        "D_max_count": 2,
        "C_min_price": 18,
        "C_max_count": 2,
        "A_min_price": 24,
        "A_max_count": 1
      }
    }
  },
  "formation_rules": {
    "allowed_modules": [
      "343",
      "352",
      "451",
      "442",
      "433",
      "541",
      "532"
    ],
    "lineup_size": 11,
    "bench": {
      "goalkeepers": 1,
      "outfield": 6
    },
    "max_substitutions": 4,
    "switch_plus": {
      "enabled": true,
      "max_per_round": 1
    },
    "submission_deadline_minutes_before_first_match": 15,
    "first_round_missing_formation_penalty": -10
  },
  "scoring": {
    "default_vote": 6.0,
    "default_fantavote": 6.0,
    "sv": {
      "enabled": true,
      "label": "SV",
      "minutes_threshold_rule": false
    },
    "six_politico": {
      "vote": 6.0,
      "fantavote": 6.0,
      "apply_when_match_outside_round_window": true,
      "apply_to_all_roster_players_of_involved_teams": true,
      "include_bench_injured_suspended": true
    },
    "bonus_malus": {
      "goal": 3.0,
      "assist": 1.0,
      "assist_da_fermo": 1.0,
      "rigore_segnato": 3.0,
      "rigore_parato": 3.0,
      "rigore_sbagliato": -3.0,
      "autogol": -2.0,
      "gol_subito_portiere": -1.0,
      "ammonizione": -0.5,
      "espulsione": -1.0,
      "gol_vittoria": 1.0,
      "gol_pareggio": 0.5
    }
  },
  "modifiers": {
    "difesa": {
      "enabled": true,
      "requires_defenders_min": 4,
      "include_goalkeeper_vote": true,
      "use_base_vote_only": true,
      "defender_selection": "best_3",
      "bands": [
        {
          "max": 6.0,
          "max_inclusive": false,
          "value": 0.0
        },
        {
          "min": 6.0,
          "min_inclusive": true,
          "max": 6.25,
          "max_inclusive": false,
          "value": 1.0
        },
        {
          "min": 6.25,
          "min_inclusive": true,
          "max": 6.5,
          "max_inclusive": false,
          "value": 2.0
        },
        {
          "min": 6.5,
          "min_inclusive": true,
          "max": 6.75,
          "max_inclusive": false,
          "value": 3.0
        },
        {
          "min": 6.75,
          "min_inclusive": true,
          "max": 7.0,
          "max_inclusive": false,
          "value": 4.0
        },
        {
          "min": 7.0,
          "min_inclusive": true,
          "value": 5.0
        }
      ]
    },
    "capitano": {
      "enabled": true,
      "vice_captain_enabled": true,
      "mode": "bands",
      "use_base_vote_only": true,
      "bands": [
        {
          "max": 4.5,
          "max_inclusive": true,
          "value": -1.5
        },
        {
          "min": 5.0,
          "min_inclusive": true,
          "max": 5.0,
          "max_inclusive": true,
          "value": -1.0
        },
        {
          "min": 5.5,
          "min_inclusive": true,
          "max": 5.5,
          "max_inclusive": true,
          "value": -0.5
        },
        {
          "min": 6.0,
          "min_inclusive": true,
          "max": 6.0,
          "max_inclusive": true,
          "value": 0.0
        },
        {
          "min": 6.5,
          "min_inclusive": true,
          "max": 6.5,
          "max_inclusive": true,
          "value": 0.5
        },
        {
          "min": 7.0,
          "min_inclusive": true,
          "max": 7.0,
          "max_inclusive": true,
          "value": 1.0
        },
        {
          "min": 7.5,
          "min_inclusive": true,
          "value": 1.5
        }
      ]
    }
  },
  "total_live": {
    "enabled": true,
    "base": "sum_fantavote_starting_xi",
    "include_modifiers": [
      "difesa",
      "capitano"
    ]
  },
  "ordering": {
    "default": "classifica",
    "allowed": [
      "classifica",
      "live_total"
    ],
    "live_total_tiebreaker": "classifica"
  },
  "optimizer_context": {
    "fixture_multiplier": {
      "min_multiplier": 0.8,
      "max_multiplier": 1.22,
      "home_bonus": {
        "P": 0.01,
        "D": 0.02,
        "C": 0.04,
        "A": 0.05
      },
      "away_penalty": {
        "P": -0.015,
        "D": -0.025,
        "C": -0.04,
        "A": -0.05
      },
      "own_weight": {
        "P": 0.06,
        "D": 0.06,
        "C": 0.05,
        "A": 0.045
      },
      "opp_weight": {
        "P": 0.09,
        "D": 0.1,
        "C": 0.1,
        "A": 0.12
      }
    }
  },
  "market_rules": {
    "windows": [
      {
        "start": "2025-09-08T00:00:00",
        "end": "2025-09-11T10:00:00",
        "max_changes": 5,
        "tier_constraints": false
      },
      {
        "start": "2025-11-17T00:00:00",
        "end": "2025-11-20T10:00:00",
        "max_changes": 4,
        "tier_constraints": false
      },
      {
        "start": "2026-02-03T00:00:00",
        "end": "2026-02-06T10:00:00",
        "max_changes": 5,
        "tier_constraints": false
      },
      {
        "start": "2026-03-30T00:00:00",
        "end": "2026-04-02T10:00:00",
        "max_changes": 3,
        "tier_constraints": false
      }
    ],
    "extra_injury_change": {
      "enabled": true,
      "max_total": 1,
      "min_injury_days": 30,
      "allowed_when_market_closed": true,
      "approved_by_admin": true
    }
  }
}
